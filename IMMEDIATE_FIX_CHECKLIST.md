# IMMEDIATE FIX CHECKLIST FOR FP MIGRATION
**CRITICAL PRIORITY - SYSTEM COMPLETELY BROKEN**

## BLOCKING ISSUES (Fix Order: Critical → High → Medium)

### 🔴 CRITICAL - SYSTEM CANNOT START (Est: 4-6 hours)

1. **Fix `FPCandle` NameError in type_converters.py**
   ```bash
   File: bot/fp/adapters/type_converters.py:204
   Error: NameError: name 'FPCandle' is not defined
   ```
   **Fix**: Add import for `FPCandle` or create alias from existing candle type
   **Files to check**:
   - `bot/fp/types/market.py` (look for candle definitions)
   - `bot/trading_types.py` (check existing candle types)

2. **Fix `VuManchuState` ImportError**
   ```bash
   Error: cannot import name 'VuManchuState' from 'bot.fp.indicators.vumanchu_functional'
   ```
   **Fix**: Define `VuManchuState` class or create alias
   **Files to check**:
   - `bot/fp/indicators/vumanchu_functional.py`
   - `bot/indicators/vumanchu.py` (for existing state definition)

3. **Fix Missing Type Exports**
   ```bash
   Multiple missing exports from bot.fp.types
   ```
   **Fix**: Add missing types to `__init__.py` exports
   **Files**: `bot/fp/types/__init__.py`

### 🔴 HIGH - CORE FUNCTIONALITY (Est: 6-8 hours)

4. **Fix Strategy Base Signal Handling**
   - Fix remaining `SignalType` vs functional signal conflicts
   - Ensure all combinators work with new signal types
   - File: `bot/fp/strategies/base.py`

5. **Complete Risk Management Integration**
   - Ensure all risk types are properly exported
   - Fix risk strategy imports
   - Files: `bot/risk/__init__.py`, `bot/fp/strategies/risk_management.py`

6. **Fix LLM Strategy Integration**
   - Resolve import issues in `llm_functional.py`
   - Ensure signal compatibility
   - File: `bot/fp/strategies/llm_functional.py`

### ⚠️ MEDIUM - TEST INFRASTRUCTURE (Est: 4-6 hours)

7. **Fix Test Imports**
   - Resolve circular dependencies in test modules
   - Ensure test fixtures work with FP types
   - Files: All test files in `tests/unit/fp/`

8. **Fix Property Test Compatibility**
   - Address Hypothesis fixture incompatibility
   - Fix state machine test filtering
   - Files: `tests/property/`

## QUICK WIN FIXES (Est: 1-2 hours each)

### Type Definition Issues
```bash
# Add missing imports to type_converters.py
from bot.fp.types.market import Candle as FPCandle  # or similar

# Add missing VuManchuState
@dataclass(frozen=True)
class VuManchuState:
    # Copy from existing VuManChu implementation
```

### Import/Export Issues
```bash
# Add to bot/fp/types/__init__.py
from .market import (
    Candle as FPCandle,
    # ... other missing types
)

# Add to __all__ list
"FPCandle",
"VuManchuState",
# ... other missing exports
```

## VERIFICATION CHECKLIST

After each fix, verify:
- [ ] `poetry run python -c "import bot"` works
- [ ] `poetry run python -c "from bot.fp.types import *"` works
- [ ] `poetry run pytest tests/unit/fp/ --collect-only` works
- [ ] `poetry run pytest tests/unit/fp/test_types.py` passes

## TESTING PROGRESSION

1. **Phase 1**: Fix imports to enable test collection
2. **Phase 2**: Run FP unit tests to identify logic issues
3. **Phase 3**: Run integration tests to verify compatibility
4. **Phase 4**: Run full test suite for regression validation

## PRIORITY MATRIX

| Issue | Impact | Effort | Priority |
|-------|--------|--------|----------|
| FPCandle NameError | Critical | Low | P0 |
| VuManchuState missing | Critical | Medium | P0 |
| Type exports incomplete | High | Low | P1 |
| Signal handling broken | High | Medium | P1 |
| Test infrastructure | Medium | High | P2 |

## SUCCESS CRITERIA

**Minimum for Testing**:
- [ ] All import errors resolved
- [ ] At least 50% of FP tests can run
- [ ] No runtime NameErrors or ImportErrors

**Ready for Integration**:
- [ ] 100% of FP tests passing
- [ ] VuManChu indicators produce identical results
- [ ] Risk management fully functional

**Production Ready**:
- [ ] Full test suite passing (>95%)
- [ ] Performance benchmarks acceptable
- [ ] Zero regression in critical features

## ESTIMATED TOTAL EFFORT

- **Minimum Working System**: 8-12 hours
- **Full FP Integration**: 20-30 hours
- **Production Ready**: 40-60 hours

**Current State**: CRITICAL FAILURE - 0% functional
**Next Milestone**: Fix imports → 20% functional
**Target**: 100% functional with zero regression

---
*Generated by Agent 10: Test System Validation Specialist*
*Batch 8 Critical Issue Analysis*
